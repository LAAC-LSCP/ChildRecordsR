<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ChildReccordsR â€¢ ChildRecordsR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="ChildReccordsR">
<meta property="og:description" content="ChildRecordsR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ChildRecordsR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ChildRecordsR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="ChildRecordsR_files/header-attrs-2.5/header-attrs.js"></script><link href="ChildRecordsR_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="ChildRecordsR_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>ChildReccordsR</h1>
            
      
      
      <div class="hidden name"><code>ChildRecordsR.Rmd</code></div>

    </div>

    
    
<p>The ChildRecordsR package is an R package dedicated to the analysis of daily record annotations in ChildRecord-data format. The objective is to provide both data aggregation functions and to analyze the reliability of the annotators on the whole corpus.</p>
<div id="create-a-childrecordings-class" class="section level3">
<h3 class="hasAnchor">
<a href="#create-a-childrecordings-class" class="anchor"></a>Create a ChildRecordings class</h3>
<p>Here you will create a class by specifing the root folder of the ChildRecording The class provides basic control such as missing files or unreferenced files in the meta data Try to add, misplace or erase some files to see if it works All other functions will be based on the class to mitigate problems as much as possible</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">ChildRecordsR</span><span class="op">)</span>
<span class="va">ChildRecordingsPath</span> <span class="op">=</span> <span class="st">"/mnt/94707AA4707A8CAC/CNRS/namibia-data/"</span>
<span class="va">CR</span> <span class="op">=</span> <span class="fu"><a href="../reference/ChildRecordings.html">ChildRecordings</a></span><span class="op">(</span><span class="va">ChildRecordingsPath</span><span class="op">)</span>
<span class="co">#&gt; ###############################################</span>
<span class="co">#&gt; Hello Wellcome to the ChildRecordings R Project </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Your ChildRecording project path containe : </span>
<span class="co">#&gt;  1720  annotations files </span>
<span class="co">#&gt;  1720  are referenced in the metadata </span>
<span class="co">#&gt;  5  coders were finded :  textgrid_m1 vtc textgrid_mm textgrid_ak textgrid_ac</span>
<span class="co">#&gt;  All files seems to be present and referenced in the metadata (good news ;) )</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   379  metadata don't have a start recording time (a.k.a start.time) </span>
<span class="co">#&gt;   therefore time indicators wil not be build for those files </span>
<span class="co">#&gt;   more infos in ChildRecordings$integrity_test$missing.start.time </span>
<span class="co">#&gt;   362  files are empty </span>
<span class="co">#&gt;   This should normally mean that no annotation were provided by annotator </span>
<span class="co">#&gt;   more infos in ChildRecordings$integrity_test$empty.files</span></code></pre></div>
</div>
<div id="search-function" class="section level3">
<h3 class="hasAnchor">
<a href="#search-function" class="anchor"></a>search function</h3>
<p>Before it can provide any statistical reliability, the current package will need to find annotation segments that have been scored by at least two annotators. This search is performed by the <code>find.rating.segment</code> function and return a data.frame will the current wav filename, the annotaters name, the annotation filename and the true onset and offset of the segment(s).</p>
<p>The minimum instruction required will be to provide a child class of recordings and a specific wav relative file path. The function will then find each segment annotated by all annotators in the wav file.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/find.rating.segment.html">find.rating.segment</a></span><span class="op">(</span><span class="va">CR</span>,<span class="st">"aiku/namibie_aiku_20160715_1.wav"</span><span class="op">)</span>
<span class="co">#&gt;                           filename         set</span>
<span class="co">#&gt; 1 aiku/namibie_aiku_20160715_1.wav textgrid_mm</span>
<span class="co">#&gt; 2 aiku/namibie_aiku_20160715_1.wav textgrid_ak</span>
<span class="co">#&gt; 3 aiku/namibie_aiku_20160715_1.wav         vtc</span>
<span class="co">#&gt; 4 aiku/namibie_aiku_20160715_1.wav textgrid_m1</span>
<span class="co">#&gt;                                      annotation_filename true_onset true_offset</span>
<span class="co">#&gt; 1 textgrid_mm/aiku/namibie_aiku_20160715_1_27000_180.csv      27180       27240</span>
<span class="co">#&gt; 2 textgrid_ak/aiku/namibie_aiku_20160715_1_27000_180.csv      27180       27240</span>
<span class="co">#&gt; 3               vtc/aiku/namibie_aiku_20160715_1_0_0.csv      27180       27240</span>
<span class="co">#&gt; 4 textgrid_m1/aiku/namibie_aiku_20160715_1_27000_180.csv      27180       27240</span></code></pre></div>
<p>However if a specific time windows is provided this function will find all the data that overlaps with the time windows provided.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/find.rating.segment.html">find.rating.segment</a></span><span class="op">(</span><span class="va">CR</span>,<span class="st">"aiku/namibie_aiku_20160715_1.wav"</span>,range_from <span class="op">=</span> <span class="fl">27180</span>, range_to <span class="op">=</span> <span class="fl">27240</span><span class="op">)</span>
<span class="co">#&gt;                           filename         set</span>
<span class="co">#&gt; 1 aiku/namibie_aiku_20160715_1.wav textgrid_mm</span>
<span class="co">#&gt; 2 aiku/namibie_aiku_20160715_1.wav textgrid_ak</span>
<span class="co">#&gt; 3 aiku/namibie_aiku_20160715_1.wav         vtc</span>
<span class="co">#&gt; 4 aiku/namibie_aiku_20160715_1.wav textgrid_m1</span>
<span class="co">#&gt;                                      annotation_filename true_onset true_offset</span>
<span class="co">#&gt; 1 textgrid_mm/aiku/namibie_aiku_20160715_1_27000_180.csv      27180       27240</span>
<span class="co">#&gt; 2 textgrid_ak/aiku/namibie_aiku_20160715_1_27000_180.csv      27180       27240</span>
<span class="co">#&gt; 3               vtc/aiku/namibie_aiku_20160715_1_0_0.csv      27180       27240</span>
<span class="co">#&gt; 4 textgrid_m1/aiku/namibie_aiku_20160715_1_27000_180.csv      27180       27240</span>
<span class="fu"><a href="../reference/find.rating.segment.html">find.rating.segment</a></span><span class="op">(</span><span class="va">CR</span>,<span class="st">"aiku/namibie_aiku_20160715_1.wav"</span>,range_from <span class="op">=</span> <span class="fl">27000</span>, range_to <span class="op">=</span> <span class="fl">27250</span><span class="op">)</span>
<span class="co">#&gt;                           filename         set</span>
<span class="co">#&gt; 1 aiku/namibie_aiku_20160715_1.wav textgrid_mm</span>
<span class="co">#&gt; 2 aiku/namibie_aiku_20160715_1.wav textgrid_ak</span>
<span class="co">#&gt; 3 aiku/namibie_aiku_20160715_1.wav         vtc</span>
<span class="co">#&gt; 4 aiku/namibie_aiku_20160715_1.wav textgrid_m1</span>
<span class="co">#&gt;                                      annotation_filename true_onset true_offset</span>
<span class="co">#&gt; 1 textgrid_mm/aiku/namibie_aiku_20160715_1_27000_180.csv      27180       27240</span>
<span class="co">#&gt; 2 textgrid_ak/aiku/namibie_aiku_20160715_1_27000_180.csv      27180       27240</span>
<span class="co">#&gt; 3               vtc/aiku/namibie_aiku_20160715_1_0_0.csv      27180       27240</span>
<span class="co">#&gt; 4 textgrid_m1/aiku/namibie_aiku_20160715_1_27000_180.csv      27180       27240</span>
<span class="fu"><a href="../reference/find.rating.segment.html">find.rating.segment</a></span><span class="op">(</span><span class="va">CR</span>,<span class="st">"aiku/namibie_aiku_20160715_1.wav"</span>,range_from <span class="op">=</span> <span class="fl">27180</span>, range_to <span class="op">=</span> <span class="fl">27260</span><span class="op">)</span>
<span class="co">#&gt;                           filename         set</span>
<span class="co">#&gt; 1 aiku/namibie_aiku_20160715_1.wav textgrid_mm</span>
<span class="co">#&gt; 2 aiku/namibie_aiku_20160715_1.wav textgrid_ak</span>
<span class="co">#&gt; 3 aiku/namibie_aiku_20160715_1.wav         vtc</span>
<span class="co">#&gt; 4 aiku/namibie_aiku_20160715_1.wav textgrid_m1</span>
<span class="co">#&gt;                                      annotation_filename true_onset true_offset</span>
<span class="co">#&gt; 1 textgrid_mm/aiku/namibie_aiku_20160715_1_27000_180.csv      27180       27240</span>
<span class="co">#&gt; 2 textgrid_ak/aiku/namibie_aiku_20160715_1_27000_180.csv      27180       27240</span>
<span class="co">#&gt; 3               vtc/aiku/namibie_aiku_20160715_1_0_0.csv      27180       27240</span>
<span class="co">#&gt; 4 textgrid_m1/aiku/namibie_aiku_20160715_1_27000_180.csv      27180       27240</span></code></pre></div>
<p>It is also possible tu find segment for a limited number or annotators</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">raters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"textgrid_ak"</span>,<span class="st">"textgrid_mm"</span>,<span class="st">"textgrid_m1"</span><span class="op">)</span>
<span class="fu"><a href="../reference/find.rating.segment.html">find.rating.segment</a></span><span class="op">(</span><span class="va">CR</span>,<span class="st">"aiku/namibie_aiku_20160715_1.wav"</span>,<span class="va">raters</span><span class="op">)</span>
<span class="co">#&gt;                           filename         set</span>
<span class="co">#&gt; 1 aiku/namibie_aiku_20160715_1.wav textgrid_mm</span>
<span class="co">#&gt; 2 aiku/namibie_aiku_20160715_1.wav textgrid_ak</span>
<span class="co">#&gt; 3 aiku/namibie_aiku_20160715_1.wav textgrid_m1</span>
<span class="co">#&gt;                                      annotation_filename true_onset true_offset</span>
<span class="co">#&gt; 1 textgrid_mm/aiku/namibie_aiku_20160715_1_27000_180.csv      27180       27240</span>
<span class="co">#&gt; 2 textgrid_ak/aiku/namibie_aiku_20160715_1_27000_180.csv      27180       27240</span>
<span class="co">#&gt; 3 textgrid_m1/aiku/namibie_aiku_20160715_1_27000_180.csv      27180       27240</span></code></pre></div>
<p>Time window and limited annotator can also be combined</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">search1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/find.rating.segment.html">find.rating.segment</a></span><span class="op">(</span><span class="va">CR</span>,<span class="st">"aiku/namibie_aiku_20160715_1.wav"</span>, <span class="va">raters</span>, range_from <span class="op">=</span> <span class="fl">27180</span>, range_to <span class="op">=</span> <span class="fl">27240</span><span class="op">)</span>
<span class="va">search1</span>
<span class="co">#&gt;                           filename         set</span>
<span class="co">#&gt; 1 aiku/namibie_aiku_20160715_1.wav textgrid_mm</span>
<span class="co">#&gt; 2 aiku/namibie_aiku_20160715_1.wav textgrid_ak</span>
<span class="co">#&gt; 3 aiku/namibie_aiku_20160715_1.wav textgrid_m1</span>
<span class="co">#&gt;                                      annotation_filename true_onset true_offset</span>
<span class="co">#&gt; 1 textgrid_mm/aiku/namibie_aiku_20160715_1_27000_180.csv      27180       27240</span>
<span class="co">#&gt; 2 textgrid_ak/aiku/namibie_aiku_20160715_1_27000_180.csv      27180       27240</span>
<span class="co">#&gt; 3 textgrid_m1/aiku/namibie_aiku_20160715_1_27000_180.csv      27180       27240</span></code></pre></div>
</div>
<div id="reliability-mesure" class="section level3">
<h3 class="hasAnchor">
<a href="#reliability-mesure" class="anchor"></a>Reliability mesure</h3>
<p>Once you fine the files and time for the raters you can use the aggregate function. The function will help you to join table and convert data into long format. To convert the annotator format to long format, a time window in seconds must be filled in the <code>cut</code> argument. The function will return a <strong>raterData</strong> class with original format and long format</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rating1</span>  <span class="op">=</span> <span class="fu"><a href="../reference/aggregate.rating.html">aggregate.rating</a></span><span class="op">(</span><span class="va">search1</span>, <span class="va">CR</span>, cut <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>
<span class="co">#&gt; |=========================                                                 | 33% time by step : 0s estimate duration : 0m remain : 0m </span>
<span class="co">#&gt; |=================================================                         | 67% time by step : 0s estimate duration : 0m remain : 0m </span>
<span class="co">#&gt; |==========================================================================|100% time by step : 0s estimate duration : 0m remain : 0m </span>
<span class="co">#&gt; number of annotators 3 </span>
<span class="co">#&gt; length of reccording annotation 180 seconds or  0.05 hours</span>
<span class="co">#&gt; Reccord span  60 seconds or  0.01666667 hours</span></code></pre></div>
<p>After the aggregation of the data, analyse function can be call. If the analysis requiere to have reliability indicator the function reliability will provide alpha, kappa and AC1. Reliability will be compute for every category of speech and a composition of all of them.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rez1</span> <span class="op">=</span> <span class="fu"><a href="../reference/reliability.html">reliability</a></span><span class="op">(</span><span class="va">rating1</span><span class="op">)</span>
<span class="co">#&gt; Reliability indicator by type </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; # CHI </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;             coeff.name        pa        pe coeff.val coeff.se      conf.int</span>
<span class="co">#&gt; 1 Krippendorff's Alpha 0.8603105 0.8238272   0.20709  0.03999 (0.129,0.286)</span>
<span class="co">#&gt; 2        Fleiss' Kappa 0.8602329 0.8238272   0.20665  0.03999 (0.128,0.285)</span>
<span class="co">#&gt; 3                  AC1 0.8602329 0.1761728   0.83034  0.01572 (0.799,0.861)</span>
<span class="co">#&gt;        p.value     w.name</span>
<span class="co">#&gt; 1 3.061751e-07 unweighted</span>
<span class="co">#&gt; 2 3.239348e-07 unweighted</span>
<span class="co">#&gt; 3 0.000000e+00 unweighted</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; # OCH </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;             coeff.name        pa        pe coeff.val coeff.se      conf.int</span>
<span class="co">#&gt; 1 Krippendorff's Alpha 0.8647451 0.6468141   0.61704  0.03176 (0.555,0.679)</span>
<span class="co">#&gt; 2        Fleiss' Kappa 0.8646700 0.6468141   0.61683  0.03176 (0.554,0.679)</span>
<span class="co">#&gt; 3                  AC1 0.8646700 0.3531859   0.79077  0.01884 (0.754,0.828)</span>
<span class="co">#&gt;   p.value     w.name</span>
<span class="co">#&gt; 1       0 unweighted</span>
<span class="co">#&gt; 2       0 unweighted</span>
<span class="co">#&gt; 3       0 unweighted</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; # FEM </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;             coeff.name        pa        pe coeff.val coeff.se      conf.int</span>
<span class="co">#&gt; 1 Krippendorff's Alpha 0.8298227 0.5202290   0.64529  0.02448 (0.597,0.693)</span>
<span class="co">#&gt; 2        Fleiss' Kappa 0.8297282 0.5202290   0.64510  0.02448 (0.597,0.693)</span>
<span class="co">#&gt; 3                  AC1 0.8297282 0.2398855   0.77599  0.01593 (0.745,0.807)</span>
<span class="co">#&gt;   p.value     w.name</span>
<span class="co">#&gt; 1       0 unweighted</span>
<span class="co">#&gt; 2       0 unweighted</span>
<span class="co">#&gt; 3       0 unweighted</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; # MAL </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;             coeff.name        pa        pe coeff.val coeff.se      conf.int</span>
<span class="co">#&gt; 1 Krippendorff's Alpha 0.9201774 0.8991808   0.20826  0.05041 (0.109,0.307)</span>
<span class="co">#&gt; 2        Fleiss' Kappa 0.9201331 0.8991808   0.20782  0.05041 (0.109,0.307)</span>
<span class="co">#&gt; 3                  AC1 0.9201331 0.1008192   0.91118  0.01078  (0.89,0.932)</span>
<span class="co">#&gt;        p.value     w.name</span>
<span class="co">#&gt; 1 4.120029e-05 unweighted</span>
<span class="co">#&gt; 2 4.274618e-05 unweighted</span>
<span class="co">#&gt; 3 0.000000e+00 unweighted</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; # composit </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;             coeff.name        pa        pe coeff.val coeff.se      conf.int</span>
<span class="co">#&gt; 1 Krippendorff's Alpha 0.6269402 0.2406038   0.50874  0.01837 (0.473,0.545)</span>
<span class="co">#&gt; 2        Fleiss' Kappa 0.6267332 0.2406038   0.50847  0.01837 (0.472,0.545)</span>
<span class="co">#&gt; 3                  AC1 0.6267332 0.1518792   0.55989  0.01760 (0.525,0.594)</span>
<span class="co">#&gt;   p.value     w.name</span>
<span class="co">#&gt; 1       0 unweighted</span>
<span class="co">#&gt; 2       0 unweighted</span>
<span class="co">#&gt; 3       0 unweighted</span></code></pre></div>
<p>Another possible way to investigate annotators is through classification indicators.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ratercomp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"textgrid_ak"</span>,<span class="st">"textgrid_m1"</span><span class="op">)</span>
<span class="fu"><a href="../reference/SDT.raterData.html">SDT.raterData</a></span><span class="op">(</span><span class="va">rating1</span>,<span class="va">ratercomp</span><span class="op">)</span>
<span class="co">#&gt; Confusion matrix : </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;            textgrid_m1</span>
<span class="co">#&gt; textgrid_ak CHI FEM MAL OCH overlap silence</span>
<span class="co">#&gt;     CHI      28   0   0   0       1       0</span>
<span class="co">#&gt;     FEM      16 159   8   3       7       5</span>
<span class="co">#&gt;     MAL       0   9  12   0       0       0</span>
<span class="co">#&gt;     OCH       0   1   0  68       9       9</span>
<span class="co">#&gt;     overlap   1   9   0   4      28       0</span>
<span class="co">#&gt;     silence  17  30   7  12       1     157</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; STD by class : </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                      Class: CHI Class: FEM Class: MAL Class: OCH Class: overlap</span>
<span class="co">#&gt; Sensitivity          0.45161290  0.7644231 0.44444444  0.7816092     0.60869565</span>
<span class="co">#&gt; Specificity          0.99814471  0.9007634 0.98432056  0.9630350     0.97477477</span>
<span class="co">#&gt; Pos Pred Value       0.96551724  0.8030303 0.57142857  0.7816092     0.66666667</span>
<span class="co">#&gt; Neg Pred Value       0.94055944  0.8784119 0.97413793  0.9630350     0.96779964</span>
<span class="co">#&gt; Precision            0.96551724  0.8030303 0.57142857  0.7816092     0.66666667</span>
<span class="co">#&gt; Recall               0.45161290  0.7644231 0.44444444  0.7816092     0.60869565</span>
<span class="co">#&gt; F1                   0.61538462  0.7832512 0.50000000  0.7816092     0.63636364</span>
<span class="co">#&gt; Prevalence           0.10316140  0.3460899 0.04492512  0.1447587     0.07653910</span>
<span class="co">#&gt; Detection Rate       0.04658902  0.2645591 0.01996672  0.1131448     0.04658902</span>
<span class="co">#&gt; Detection Prevalence 0.04825291  0.3294509 0.03494176  0.1447587     0.06988353</span>
<span class="co">#&gt; Balanced Accuracy    0.72487881  0.8325932 0.71438250  0.8723221     0.79173521</span>
<span class="co">#&gt;                      Class: silence</span>
<span class="co">#&gt; Sensitivity               0.9181287</span>
<span class="co">#&gt; Specificity               0.8441860</span>
<span class="co">#&gt; Pos Pred Value            0.7008929</span>
<span class="co">#&gt; Neg Pred Value            0.9628647</span>
<span class="co">#&gt; Precision                 0.7008929</span>
<span class="co">#&gt; Recall                    0.9181287</span>
<span class="co">#&gt; F1                        0.7949367</span>
<span class="co">#&gt; Prevalence                0.2845258</span>
<span class="co">#&gt; Detection Rate            0.2612313</span>
<span class="co">#&gt; Detection Prevalence      0.3727121</span>
<span class="co">#&gt; Balanced Accuracy         0.8811574</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; STD macro indicators : </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;        type  unweight    weight</span>
<span class="co">#&gt; 1    Recall 0.6614857 0.7520799</span>
<span class="co">#&gt; 2 Precision 0.7481908 0.7667892</span>
<span class="co">#&gt; 3        F1 0.6852576 0.7450533</span></code></pre></div>
<p><img src="ChildRecordsR_files/figure-html/unnamed-chunk-8-1.png" width="672"></p>
<p>Finally, the <code>raterComp</code> function allows to compare the impact of annotators on reliability indicators. This impact is calculated by removing the annotator from the analyses and observing the increase or decrease in the reliability of the annotations</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">comparaison</span> <span class="op">=</span> <span class="fu"><a href="../reference/raterComparaison.html">raterComparaison</a></span><span class="op">(</span><span class="va">rating1</span><span class="op">)</span>
<span class="co">#&gt; number of annotators 3 </span>
<span class="co">#&gt; length of reccording annotation 180 seconds or  0.05 hours</span>
<span class="co">#&gt; Record span  60 seconds or  0.01666667 hours</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ### Annotator textgrid_ak ###</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                      coeff.val before conf.int before coeff.val after</span>
<span class="co">#&gt; Krippendorff's Alpha            0.509   (0.473,0.545)           0.423</span>
<span class="co">#&gt; Fleiss' Kappa                   0.508   (0.472,0.545)           0.423</span>
<span class="co">#&gt; AC1                             0.560   (0.525,0.594)           0.473</span>
<span class="co">#&gt;                      conf.int after coeff.difference</span>
<span class="co">#&gt; Krippendorff's Alpha  (0.375,0.472)            0.085</span>
<span class="co">#&gt; Fleiss' Kappa         (0.374,0.472)            0.086</span>
<span class="co">#&gt; AC1                    (0.425,0.52)            0.087</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;           unweight weight</span>
<span class="co">#&gt; Recall       0.549  0.663</span>
<span class="co">#&gt; Precision    0.602  0.658</span>
<span class="co">#&gt; F1           0.559  0.647</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ### Annotator textgrid_m1 ###</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                      coeff.val before conf.int before coeff.val after</span>
<span class="co">#&gt; Krippendorff's Alpha            0.509   (0.473,0.545)           0.438</span>
<span class="co">#&gt; Fleiss' Kappa                   0.508   (0.472,0.545)           0.438</span>
<span class="co">#&gt; AC1                             0.560   (0.525,0.594)           0.498</span>
<span class="co">#&gt;                      conf.int after coeff.difference</span>
<span class="co">#&gt; Krippendorff's Alpha  (0.389,0.487)            0.070</span>
<span class="co">#&gt; Fleiss' Kappa         (0.389,0.487)            0.070</span>
<span class="co">#&gt; AC1                   (0.451,0.545)            0.062</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;           unweight weight</span>
<span class="co">#&gt; Recall       0.613  0.653</span>
<span class="co">#&gt; Precision    0.564  0.665</span>
<span class="co">#&gt; F1           0.575  0.651</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ### Annotator textgrid_mm ###</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                      coeff.val before conf.int before coeff.val after</span>
<span class="co">#&gt; Krippendorff's Alpha            0.509   (0.473,0.545)           0.667</span>
<span class="co">#&gt; Fleiss' Kappa                   0.508   (0.472,0.545)           0.667</span>
<span class="co">#&gt; AC1                             0.560   (0.525,0.594)           0.709</span>
<span class="co">#&gt;                      conf.int after coeff.difference</span>
<span class="co">#&gt; Krippendorff's Alpha  (0.621,0.713)           -0.158</span>
<span class="co">#&gt; Fleiss' Kappa         (0.621,0.713)           -0.158</span>
<span class="co">#&gt; AC1                    (0.668,0.75)           -0.149</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;           unweight weight</span>
<span class="co">#&gt; Recall       0.462  0.564</span>
<span class="co">#&gt; Precision    0.457  0.617</span>
<span class="co">#&gt; F1           0.449  0.582</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span><span class="op">(</span><span class="va">comparaison</span><span class="op">)</span></code></pre></div>
<p><img src="ChildRecordsR_files/figure-html/unnamed-chunk-9-1.png" width="672"></p>
</div>
<div id="corpus-analysis" class="section level3">
<h3 class="hasAnchor">
<a href="#corpus-analysis" class="anchor"></a>Corpus analysis</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">wave_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">CR</span><span class="op">$</span><span class="va">all.meta</span><span class="op">$</span><span class="va">filename</span><span class="op">)</span> <span class="co"># get all the wav files</span>
<span class="va">raters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"textgrid_ak"</span>,<span class="st">"textgrid_mm"</span>,<span class="st">"textgrid_m1"</span><span class="op">)</span> <span class="co"># Define raters you are interested in</span>

<span class="co"># bind all the results</span>
<span class="va">search2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="op">)</span>
<span class="kw">for</span> <span class="op">(</span><span class="va">file</span> <span class="kw">in</span> <span class="va">wave_file</span><span class="op">)</span><span class="op">{</span>
  <span class="va">search2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">search2</span>, <span class="fu"><a href="../reference/find.rating.segment.html">find.rating.segment</a></span><span class="op">(</span><span class="va">CR</span>, <span class="va">file</span>, <span class="va">raters</span><span class="op">)</span><span class="op">)</span> <span class="co"># could take some time</span>
<span class="op">}</span>
<span class="co">#  aggregation </span>
<span class="va">rating2</span>  <span class="op">=</span> <span class="fu"><a href="../reference/aggregate.rating.html">aggregate.rating</a></span><span class="op">(</span><span class="va">search2</span>,<span class="va">CR</span>,<span class="fl">0.1</span>,verbose <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>
<span class="co">#&gt; number of annotators 3 </span>
<span class="co">#&gt; length of reccording annotation 14220 seconds or  3.95 hours</span>
<span class="co">#&gt; Reccord span  4740 seconds or  1.316667 hours</span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rez2</span> <span class="op">=</span> <span class="fu"><a href="../reference/reliability.html">reliability</a></span><span class="op">(</span><span class="va">rating1</span><span class="op">)</span>
<span class="co">#&gt; Reliability indicator by type </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; # CHI </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;             coeff.name        pa        pe coeff.val coeff.se      conf.int</span>
<span class="co">#&gt; 1 Krippendorff's Alpha 0.8603105 0.8238272   0.20709  0.03999 (0.129,0.286)</span>
<span class="co">#&gt; 2        Fleiss' Kappa 0.8602329 0.8238272   0.20665  0.03999 (0.128,0.285)</span>
<span class="co">#&gt; 3                  AC1 0.8602329 0.1761728   0.83034  0.01572 (0.799,0.861)</span>
<span class="co">#&gt;        p.value     w.name</span>
<span class="co">#&gt; 1 3.061751e-07 unweighted</span>
<span class="co">#&gt; 2 3.239348e-07 unweighted</span>
<span class="co">#&gt; 3 0.000000e+00 unweighted</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; # OCH </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;             coeff.name        pa        pe coeff.val coeff.se      conf.int</span>
<span class="co">#&gt; 1 Krippendorff's Alpha 0.8647451 0.6468141   0.61704  0.03176 (0.555,0.679)</span>
<span class="co">#&gt; 2        Fleiss' Kappa 0.8646700 0.6468141   0.61683  0.03176 (0.554,0.679)</span>
<span class="co">#&gt; 3                  AC1 0.8646700 0.3531859   0.79077  0.01884 (0.754,0.828)</span>
<span class="co">#&gt;   p.value     w.name</span>
<span class="co">#&gt; 1       0 unweighted</span>
<span class="co">#&gt; 2       0 unweighted</span>
<span class="co">#&gt; 3       0 unweighted</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; # FEM </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;             coeff.name        pa        pe coeff.val coeff.se      conf.int</span>
<span class="co">#&gt; 1 Krippendorff's Alpha 0.8298227 0.5202290   0.64529  0.02448 (0.597,0.693)</span>
<span class="co">#&gt; 2        Fleiss' Kappa 0.8297282 0.5202290   0.64510  0.02448 (0.597,0.693)</span>
<span class="co">#&gt; 3                  AC1 0.8297282 0.2398855   0.77599  0.01593 (0.745,0.807)</span>
<span class="co">#&gt;   p.value     w.name</span>
<span class="co">#&gt; 1       0 unweighted</span>
<span class="co">#&gt; 2       0 unweighted</span>
<span class="co">#&gt; 3       0 unweighted</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; # MAL </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;             coeff.name        pa        pe coeff.val coeff.se      conf.int</span>
<span class="co">#&gt; 1 Krippendorff's Alpha 0.9201774 0.8991808   0.20826  0.05041 (0.109,0.307)</span>
<span class="co">#&gt; 2        Fleiss' Kappa 0.9201331 0.8991808   0.20782  0.05041 (0.109,0.307)</span>
<span class="co">#&gt; 3                  AC1 0.9201331 0.1008192   0.91118  0.01078  (0.89,0.932)</span>
<span class="co">#&gt;        p.value     w.name</span>
<span class="co">#&gt; 1 4.120029e-05 unweighted</span>
<span class="co">#&gt; 2 4.274618e-05 unweighted</span>
<span class="co">#&gt; 3 0.000000e+00 unweighted</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; # composit </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;             coeff.name        pa        pe coeff.val coeff.se      conf.int</span>
<span class="co">#&gt; 1 Krippendorff's Alpha 0.6269402 0.2406038   0.50874  0.01837 (0.473,0.545)</span>
<span class="co">#&gt; 2        Fleiss' Kappa 0.6267332 0.2406038   0.50847  0.01837 (0.472,0.545)</span>
<span class="co">#&gt; 3                  AC1 0.6267332 0.1518792   0.55989  0.01760 (0.525,0.594)</span>
<span class="co">#&gt;   p.value     w.name</span>
<span class="co">#&gt; 1       0 unweighted</span>
<span class="co">#&gt; 2       0 unweighted</span>
<span class="co">#&gt; 3       0 unweighted</span>

<span class="va">comparaison</span> <span class="op">=</span> <span class="fu"><a href="../reference/raterComparaison.html">raterComparaison</a></span><span class="op">(</span><span class="va">rating2</span><span class="op">)</span>
<span class="co">#&gt; number of annotators 3 </span>
<span class="co">#&gt; length of reccording annotation 14220 seconds or  3.95 hours</span>
<span class="co">#&gt; Record span  4740 seconds or  1.316667 hours</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ### Annotator textgrid_ak ###</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                      coeff.val before conf.int before coeff.val after</span>
<span class="co">#&gt; Krippendorff's Alpha            0.400   (0.394,0.405)           0.320</span>
<span class="co">#&gt; Fleiss' Kappa                   0.400   (0.394,0.405)           0.320</span>
<span class="co">#&gt; AC1                             0.668   (0.664,0.672)           0.624</span>
<span class="co">#&gt;                      conf.int after coeff.difference</span>
<span class="co">#&gt; Krippendorff's Alpha  (0.313,0.327)            0.080</span>
<span class="co">#&gt; Fleiss' Kappa         (0.313,0.327)            0.080</span>
<span class="co">#&gt; AC1                   (0.619,0.629)            0.044</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;           unweight weight</span>
<span class="co">#&gt; Recall       0.522  0.721</span>
<span class="co">#&gt; Precision    0.468  0.739</span>
<span class="co">#&gt; F1           0.473  0.723</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ### Annotator textgrid_m1 ###</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                      coeff.val before conf.int before coeff.val after</span>
<span class="co">#&gt; Krippendorff's Alpha            0.400   (0.394,0.405)           0.370</span>
<span class="co">#&gt; Fleiss' Kappa                   0.400   (0.394,0.405)           0.370</span>
<span class="co">#&gt; AC1                             0.668   (0.664,0.672)           0.626</span>
<span class="co">#&gt;                      conf.int after coeff.difference</span>
<span class="co">#&gt; Krippendorff's Alpha  (0.362,0.377)            0.030</span>
<span class="co">#&gt; Fleiss' Kappa         (0.362,0.377)            0.030</span>
<span class="co">#&gt; AC1                   (0.621,0.631)            0.042</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;           unweight weight</span>
<span class="co">#&gt; Recall       0.439  0.719</span>
<span class="co">#&gt; Precision    0.510  0.705</span>
<span class="co">#&gt; F1           0.456  0.701</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ### Annotator textgrid_mm ###</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                      coeff.val before conf.int before coeff.val after</span>
<span class="co">#&gt; Krippendorff's Alpha            0.400   (0.394,0.405)           0.517</span>
<span class="co">#&gt; Fleiss' Kappa                   0.400   (0.394,0.405)           0.517</span>
<span class="co">#&gt; AC1                             0.668   (0.664,0.672)           0.754</span>
<span class="co">#&gt;                      conf.int after coeff.difference</span>
<span class="co">#&gt; Krippendorff's Alpha  (0.509,0.524)           -0.117</span>
<span class="co">#&gt; Fleiss' Kappa         (0.509,0.524)           -0.117</span>
<span class="co">#&gt; AC1                    (0.75,0.758)           -0.086</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;           unweight weight</span>
<span class="co">#&gt; Recall       0.432  0.663</span>
<span class="co">#&gt; Precision    0.415  0.714</span>
<span class="co">#&gt; F1           0.408  0.679</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span><span class="op">(</span><span class="va">comparaison</span><span class="op">)</span></code></pre></div>
<p><img src="ChildRecordsR_files/figure-html/unnamed-chunk-11-1.png" width="672"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Nicolas Rochat.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
